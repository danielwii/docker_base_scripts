FROM alpine
MAINTAINER Daniel Wei <danielwii0326@gmail.com>

RUN apk --no-cache add supervisor curl bash tar

ADD https://github.com/danielwii/docker_base_scripts/archive/0.1.12.tar.gz /init/archive.tar.gz
RUN tar zxvf /init/archive.tar.gz -C /init --xform='s|docker_base_scripts-0.1.12||S' --verbose --show-transformed-names

ADD supervisor.app.conf /init/conf/
ENTRYPOINT []
CMD ["supervisord", "-c", "/init/supervisord.conf"]